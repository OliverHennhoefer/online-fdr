library(onlineFDR)
set.seed(1)
# Example data.frame
df <- data.frame(
id = c('A15432', 'B90969', 'C18705', 'B49731', 'E99902',
'C38292', 'A30619', 'D46627', 'E29198', 'A41418',
'D51456', 'C88669', 'E03673', 'A63155', 'B66033'),
date = as.Date(c(rep("2014-12-01", 3),
rep("2015-09-21", 5),
rep("2016-05-19", 2),
"2016-11-12",
rep("2017-03-27", 4))),
pval = c(2.90e-14, 0.00143, 0.06514, 0.00174, 0.00171,
3.61e-05, 0.79149, 0.27201, 0.28295, 7.59e-08,
0.69274, 0.30443, 0.000487, 0.72342, 0.54757),
decision.times = seq_len(15) + 1,
lags = rep(1,15))
onlineFDR::Alpha_spending(df, alpha = 0.05, random = FALSE)
onlineFDR::Alpha_spending(df['pval'], alpha = 0.05, random = FALSE)
library(onlineFDR)
set.seed(1)
# Example data.frame
df <- data.frame(
id = c('A15432', 'B90969', 'C18705', 'B49731', 'E99902',
'C38292', 'A30619', 'D46627', 'E29198', 'A41418',
'D51456', 'C88669', 'E03673', 'A63155', 'B66033'),
date = as.Date(c(rep("2014-12-01", 3),
rep("2015-09-21", 5),
rep("2016-05-19", 2),
"2016-11-12",
rep("2017-03-27", 4))),
pval = c(2.90e-14, 0.00143, 0.06514, 0.00174, 0.00171,
3.61e-05, 0.79149, 0.27201, 0.28295, 7.59e-08,
0.69274, 0.30443, 0.000487, 0.72342, 0.54757),
decision.times = seq_len(15) + 1,
lags = rep(1,15))
#_______________________________________________________________________________
# 1 Alpha Spending
onlineFDR::Alpha_spending(df['pval'], alpha = 0.05, random = FALSE)
test <- onlineFDR::Alpha_spending(df['pval'], alpha = 0.05, random = FALSE)
test['alphai']
round(test['alphai'], 3)
round(test['alphai'], 5)
round(test['alphai'], 6)
alpha <- 0.05
gamma_i <- rep(alpha/15)
onlineFDR::Alpha_spending(df['pval'], alpha = alpha, gamma_i = gamma_i,
random = FALSE)
alpha <- 0.05
gammai <- rep(alpha/15)
onlineFDR::Alpha_spending(df['pval'], alpha = alpha, gammai = gammai,
random = FALSE)
rep(alpha/15)
gammai <- rep(alpha/15, 15)
rep(alpha/15, 15)
alpha <- 0.05
gammai <- rep(alpha/15, 15)
onlineFDR::Alpha_spending(df['pval'], alpha = alpha, gammai = gammai,
random = FALSE)
onlineFDR::Alpha_spending(df['pval'], alpha = alpha, gammai = gammai)
rep(alpha/15, 15)
gammai <- rep(0.5, 15)
onlineFDR::Alpha_spending(df['pval'], alpha = alpha, gammai = gammai)
onlineFDR::bonfInfinite(df['pval'], alpha = alpha, alphai=gammai)
alpha <- 0.05
gammai <- rep(alpha/15, 15)
onlineFDR::bonfInfinite(df['pval'], alpha = alpha, alphai=gammai)
0.003333333*15
onlineFDR::Alpha_spending(df['pval'], alpha = 0.05, random = FALSE)
N <- 15
0.07720838 * log(pmax(seq_len(N), 2))/((seq_len(N)) * exp(sqrt(log(seq_len(N)))))
onlineFDR::Alpha_spending(df['pval'], alpha = 0.05, random = FALSE)
onlineFDR::Alpha_investing(df, alpha = 0.1, w0 = 0.05, random = FALSE)
